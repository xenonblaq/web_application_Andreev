# Симуляция рынка ценных бумаг
## Описание проекта 

Планируется реализовать web-приложение для визуализации процессов рынка ценных бумаг. Будем рассматривать конкретную компанию и $n$ ее инвесторов. Правила взаимодействия игроков, изменения цены акции - реализация модели описана ниже. Само приложение предлагает пользователю выбрать параметры реализации и отображает графики результатов проведенной симуляции, такие как (пока что):

- График изменения цены акции;
- Новостной фон компании, влияющий на цену акции;
- Доходность акции и ее стандартное отклонение - волотильность;
- Количество сделок/оборот во времени - показывает ликвидность ценной бумаги.

1. **Параметры модели:**
    - $days$ - количество дней симуляции;
    - $n$ - количество игроков;
    - $k$ - количество акций;
    - $buy$ - текущая цена покупки;
    - $news$ - текущая цена продажи;
    - $spread = buy - sell$ - спрэд на данный шаг;
    - $liq$ - процент акций, в соответствии с которым были совершены сделки;
    - $r$ - показатель ликвидности ценной бумаги.

1. **Параметры игроков:**
    - $p$ - степень риска;
    - $weights$ - веса компонентов скоринговой модели;
    - $capital$ - текущий портфель;

## Реализация

1. **Скоринг.**
    
    Каждый день симуляции каждый инвестор дает оценку инвестиционной привлекательности компании. Оценка вычисляется по следующей формуле:

\[
    score = 0.25 \cdot risk + 0.15 \cdot \left(w_{ret} \cdot ret + w_{liq} \cdot liq + w_{vol} \cdot vol\right) + 0.6 \cdot news
\]
    
2. **Запуск $i$-ого шага.**
    - Начало дня. В свет выходит новость, имеющая коэффициент $impact \in [0; 2]$ - степень благоприятности новости для развития компании. Этот коэффициент умножается на степень риска $p_j$ каждого игрока. Если $p_j \times impact \times buy\_price > buy\_price$, то игрок хочет докупить акции. Если $p_j \times impact \times sell\_price > sell\_price$, то игрок хочет продать свой пакет. Если для $j$-ого игрока не удовлетворяются оба условия, то он удерживает свои акции.
    - Взаимодействие участников рынка. Если $j$-ый игрок хочет купить акции, то его цена $buy_j =  p_j \times impact \times buy\_price$. Если $m$-ый игрок хочет продать свой пакет, то его цена $sell_m =  p_m \times impact \times sell\_price$. Совершаются сделки между игроками, для которых $buy_j > sell_m$.
    - Обновление $buy\_price$. Пусть $M$ игроков желают купить, $L$   - продать.
        
        *if* $M > L$:
        
        $\ \ \ \ \ \ \ \  buy\_price\ += е ^ \frac{M}{2L}$
        
        *else:*
        
        $\ \ \ \ \ \ \ \ buy\_price\ -= е^ \frac{L}{2M}$
        
    - Обновление $spread$ и $sell\_price$.
        
        Пусть были совершены сделки с каким-то количеством акций $count$. Если $\frac{count}{k}  \geq r$ - это повышает ликвидность ценной бумаги данной компании ⇒ уменьшается $spread\ -= 0.5 ^ {\frac{50count}{k}}$. Если $\frac{count}{k}$ $\ < r$ ⇒ $spread\ += 0.5 ^ \frac{50count}{k}$. Обновляем $sell\_price = buy\_price - spread$.

## Стек технологий

Пользователь взаимодействует с визуальной составляющей сайта  (фронтэнд) ⇒ используется следующий стек технологий:

- HTML;
- CSS;
- JavaScript.